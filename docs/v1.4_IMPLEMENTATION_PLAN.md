# Prompt Enhancement v1.4 å®ç°è§„åˆ’

> **ç‰ˆæœ¬**: v1.4-planning
> **æ—¥æœŸ**: 2025-12-24
> **ä½œè€…**: Jody (BMAD Method)
> **çŠ¶æ€**: è§„åˆ’ä¸­ â†’ å‡†å¤‡å°±ç»ª
> **å·¥ä½œæµ**: Brownfield (v1.2 åŸºç¡€ä¸Šå¢é‡å¼€å‘)

---

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
2. [ç°çŠ¶åˆ†æ](#ç°çŠ¶åˆ†æ)
3. [ç›®æ ‡å®šä¹‰](#ç›®æ ‡å®šä¹‰)
4. [æ¶æ„è®¾è®¡](#æ¶æ„è®¾è®¡)
5. [å®ç°è§„åˆ’](#å®ç°è§„åˆ’)
6. [éªŒæ”¶æ ‡å‡†](#éªŒæ”¶æ ‡å‡†)
7. [é£é™©ç®¡ç†](#é£é™©ç®¡ç†)
8. [æ—¶é—´è¡¨](#æ—¶é—´è¡¨)

---

## é¡¹ç›®æ¦‚è¿°

### ç®€ä»‹

**Prompt Enhancement v1.4** æ˜¯å¯¹v1.2çš„å¢é‡åŠŸèƒ½è¿­ä»£ï¼Œæ–°å¢4ä¸ªæ ¸å¿ƒæ¨¡å—ï¼š

1. **Meta Prompt Engine** - ä»ä»»åŠ¡æè¿°è‡ªåŠ¨ç”Ÿæˆé«˜è´¨é‡çš„XMLç»“æ„åŒ–prompt
2. **Template Library** - 20+åœºæ™¯åŒ–çš„é«˜è´¨é‡promptæ¨¡æ¿åº“
3. **Prompt Improver** - è‡ªåŠ¨ä¼˜åŒ–ç°æœ‰promptï¼ˆ5ä¸ªä¼˜åŒ–ç­–ç•¥ï¼‰
4. **Workbench Integration** - æœ¬åœ°promptæµ‹è¯•ã€è¯„ä¼°ã€ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿ

### å…³é”®æ•°æ®

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| é¢„æœŸæ—¶é—´ | 14 ä¸ªå·¥ä½œæ—¥ |
| æ–°å¢ä»£ç è¡Œæ•° | ~3,000-4,000 è¡Œ |
| æ–°å¢æ¨¡å—æ•° | 4 ä¸ªä¸»è¦æ¨¡å— |
| æ–°å¢CLIå‘½ä»¤ | 4 ä¸ª (`generate`, `improve`, `template`, `workbench`) |
| æµ‹è¯•è¦†ç›–ç‡ç›®æ ‡ | >80% |

---

## ç°çŠ¶åˆ†æ

### v1.2 ç°æœ‰åŠŸèƒ½ âœ…

**æ ¸å¿ƒç³»ç»Ÿå·²å®Œæ•´å®ç°**:

- âœ… **4é˜¶æ®µPipeline**: åˆ†æ â†’ ä¸Šä¸‹æ–‡ â†’ å¢å¼º â†’ è¯„ä¼°
- âœ… **é¡¹ç›®æ£€æµ‹**: 6ç§ç¼–ç¨‹è¯­è¨€ï¼Œå¤šç§æ¡†æ¶
- âœ… **æ ‡å‡†æ£€æµ‹**: å‘½åè§„èŒƒã€æµ‹è¯•æ¡†æ¶ã€æ–‡æ¡£é£æ ¼ã€ä»£ç ç»„ç»‡
- âœ… **LLMé›†æˆ**: OpenAI (GPT-4) + DeepSeek (V3.2)
- âœ… **ç¼“å­˜ç³»ç»Ÿ**: åŸºäºé¡¹ç›®æŒ‡çº¹çš„é«˜æ•ˆç¼“å­˜
- âœ… **é…ç½®ç³»ç»Ÿ**: YAML schema + 5ä¸ªå†…ç½®æ¨¡æ¿
- âœ… **CLIç³»ç»Ÿ**: `/pe` å‘½ä»¤ + å‚æ•°è§£æ
- âœ… **é”™è¯¯å¤„ç†**: å¼‚å¸¸åˆ†ç±» + ä¼˜é›…é™çº§
- âœ… **è¯„ä¼°ç³»ç»Ÿ**: å“åº”éªŒè¯ + æ­¥éª¤æå– + å¤šè·¯å¾„æŒ‡å—

**ä»£ç åº“è§„æ¨¡**:
- 47 ä¸ª Python æ–‡ä»¶
- 8 ä¸ªæ ¸å¿ƒåŒ…
- 40+ å•å…ƒæµ‹è¯•
- å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶

### v1.4 éœ€æ–°å¢åŠŸèƒ½ âŒ

| åŠŸèƒ½ | ç°çŠ¶ | ä¼˜å…ˆçº§ |
|------|------|--------|
| Meta Prompt Engine | ä¸å­˜åœ¨ | ğŸ”´ é«˜ |
| Template Library (20+) | ä»…5ä¸ª | ğŸ”´ é«˜ |
| Prompt Improver | ä¸å­˜åœ¨ | ğŸŸ¡ ä¸­ |
| Workbench ç³»ç»Ÿ | ä¸å­˜åœ¨ | ğŸŸ¡ ä¸­ |
| æ–°å¢CLIå‘½ä»¤ | ä»…/pe | ğŸ”´ é«˜ |

---

## ç›®æ ‡å®šä¹‰

### ä¸»ç›®æ ‡

**å®ç°å®Œæ•´çš„AIé©±åŠ¨çš„Promptå·¥ç¨‹å·¥ä½œæµ**ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿï¼š

1. ä»è‡ªç„¶è¯­è¨€ç”Ÿæˆé«˜è´¨é‡çš„XMLç»“æ„åŒ–prompt
2. ä»å¹¿æ³›çš„åœºæ™¯æ¨¡æ¿ä¸­å¿«é€Ÿé€‰æ‹©å’Œå®šåˆ¶
3. è‡ªåŠ¨ä¼˜åŒ–ä½è´¨é‡çš„prompt
4. æœ¬åœ°æµ‹è¯•å’Œè¯„ä¼°promptè´¨é‡

### å…³é”®æˆæœæŒ‡æ ‡ (KRI)

| æŒ‡æ ‡ | ç›®æ ‡ | éªŒæ”¶æ ‡å‡† |
|------|------|---------|
| **åŠŸèƒ½å®Œæ•´æ€§** | 4ä¸ªæ–°æ¨¡å—å…¨éƒ¨äº¤ä»˜ | æ‰€æœ‰æ¨¡å—é€šè¿‡é›†æˆæµ‹è¯• |
| **ä»£ç è´¨é‡** | æ–°å¢ä»£ç è¦†ç›–ç‡ >80% | æ‰€æœ‰æµ‹è¯•é€šè¿‡ |
| **æ€§èƒ½** | CLIå“åº”æ—¶é—´ <10s | ç¼“å­˜å‘½ä¸­æ—¶ <1s |
| **æ–‡æ¡£** | å®Œæ•´çš„ä½¿ç”¨æŒ‡å—å’ŒAPIæ–‡æ¡£ | README + å†…è”æ–‡æ¡£ |
| **å‘åå…¼å®¹** | ä¸ç ´åv1.2åŠŸèƒ½ | v1.2æµ‹è¯•å…¨éƒ¨é€šè¿‡ |

---

## æ¶æ„è®¾è®¡

### é«˜å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  v1.4 æ–°æ¨¡å—æ¶æ„                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                       â”‚
â”‚  CLI å‘½ä»¤å±‚                                          â”‚
â”‚  â”œâ”€ pe generate    (æ–°)                             â”‚
â”‚  â”œâ”€ pe improve     (æ–°)                             â”‚
â”‚  â”œâ”€ pe template    (æ–°)                             â”‚
â”‚  â””â”€ pe workbench   (æ–°)                             â”‚
â”‚         â”‚                                            â”‚
â”‚         â–¼                                            â”‚
â”‚  ä¸šåŠ¡é€»è¾‘å±‚                                          â”‚
â”‚  â”œâ”€ MetaPromptEngine (æ–°)                           â”‚
â”‚  â”‚  â””â”€ ä»ä»»åŠ¡æè¿°ç”ŸæˆXML prompt                    â”‚
â”‚  â”‚                                                  â”‚
â”‚  â”œâ”€ TemplateLibrary (æ‰©å±•)                          â”‚
â”‚  â”‚  â””â”€ 20+ YAMLæ¨¡æ¿                                â”‚
â”‚  â”‚                                                  â”‚
â”‚  â”œâ”€ PromptImprover (æ–°)                             â”‚
â”‚  â”‚  â””â”€ 5ä¸ªä¼˜åŒ–ç­–ç•¥                                 â”‚
â”‚  â”‚                                                  â”‚
â”‚  â””â”€ Workbench (æ–°)                                  â”‚
â”‚     â”œâ”€ TestGenerator                               â”‚
â”‚     â”œâ”€ VariantComparator                           â”‚
â”‚     â”œâ”€ QualityGrader                               â”‚
â”‚     â”œâ”€ VersionManager                              â”‚
â”‚     â””â”€ ExportGenerator                             â”‚
â”‚         â”‚                                            â”‚
â”‚         â–¼                                            â”‚
â”‚  åŸºç¡€è®¾æ–½å±‚ (ç°æœ‰v1.2)                              â”‚
â”‚  â”œâ”€ EnhancementGenerator                           â”‚
â”‚  â”œâ”€ ProjectAnalyzer                                â”‚
â”‚  â”œâ”€ LLMProvider                                    â”‚
â”‚  â”œâ”€ ProjectContextCollector                        â”‚
â”‚  â””â”€ ResponseValidator                              â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ–°æ¨¡å—è®¾è®¡ç»†èŠ‚

#### A. Meta Prompt Engine

**èŒè´£**: å°†è‡ªç„¶è¯­è¨€ä»»åŠ¡æè¿°è½¬åŒ–ä¸ºç»“æ„åŒ–XML prompt

```
è¾“å…¥: "å¸®æˆ‘å†™ä¸€ä¸ªä»£ç å®¡æŸ¥æç¤ºè¯"
  â”‚
  â”œâ”€ æ­¥éª¤1: å˜é‡è¯†åˆ«
  â”‚  â””â”€ è¯†åˆ«éœ€è¦çš„å˜é‡: CODE, LANGUAGE, CONTEXT
  â”‚
  â”œâ”€ æ­¥éª¤2: ç»“æ„è§„åˆ’
  â”‚  â””â”€ è§„åˆ’XMLåŒºå—: role, context, instructions, examples, output_format
  â”‚
  â””â”€ æ­¥éª¤3: æŒ‡ä»¤ç¼–å†™
     â””â”€ ç”Ÿæˆå®Œæ•´çš„XMLç»“æ„åŒ–prompt

è¾“å‡º: <prompt_template>...</prompt_template>
```

**å…³é”®ç‰¹æ€§**:
- ä½¿ç”¨ç°æœ‰çš„ LLMProvider è°ƒç”¨Claude
- å¤ç”¨ PromptBuilder çš„XMLç”Ÿæˆæ¨¡å¼
- é›†æˆç¼“å­˜æœºåˆ¶ (é¿å…é‡å¤ç”Ÿæˆç›¸åŒä»»åŠ¡)

#### B. Template Library (æ‰©å±•)

**èŒè´£**: æä¾›åœºæ™¯åŒ–çš„é«˜è´¨é‡promptæ¨¡æ¿

```
templates/
â”œâ”€â”€ coding/       (5ä¸ª)   - ä»£ç å¼€å‘ç›¸å…³
â”œâ”€â”€ data/         (4ä¸ª)   - æ•°æ®å¤„ç†ç›¸å…³
â”œâ”€â”€ writing/      (4ä¸ª)   - æ–‡æ¡£å†™ä½œç›¸å…³
â”œâ”€â”€ analysis/     (4ä¸ª)   - ä»£ç åˆ†æç›¸å…³
â””â”€â”€ meta/         (3ä¸ª)   - Metaç›¸å…³
```

**æ¨¡æ¿æ ¼å¼** (YAML + Jinja2):
```yaml
metadata:
  name: "Code Reviewer"
  category: "coding"
  description: "..."
  variables:
    - name: "CODE"
      type: "code"
      required: true

template: |
  <role>...</role>
  <instructions>...</instructions>
  ...

examples:
  - input: {...}
    ideal_output: {...}
```

#### C. Prompt Improver

**èŒè´£**: è‡ªåŠ¨ä¼˜åŒ–ä½è´¨é‡çš„prompt

**5ä¸ªä¼˜åŒ–ç­–ç•¥**:

1. **Chain-of-Thought æ³¨å…¥** - æ·»åŠ  `<scratchpad>` æ€è€ƒåŒºå—
2. **ç¤ºä¾‹æ ‡å‡†åŒ–** - å°†ç¤ºä¾‹è½¬ä¸ºä¸€è‡´çš„XMLæ ¼å¼
3. **ç¤ºä¾‹ä¸°å¯ŒåŒ–** - ä¸ºç¤ºä¾‹æ·»åŠ æ¨ç†è¿‡ç¨‹
4. **æŒ‡ä»¤æ¸…æ™°åŒ–** - é‡å†™æ¨¡ç³ŠæŒ‡ä»¤
5. **å˜é‡æ ‡è®°** - ç”¨XMLåŒ…è£¹é•¿å˜é‡

**é¢„æœŸæ•ˆæœ**: æå‡promptè´¨é‡ >20%

#### D. Workbench ç³»ç»Ÿ

**èŒè´£**: æœ¬åœ°promptæµ‹è¯•å’Œè¯„ä¼°

**5ä¸ªå­æ¨¡å—**:

1. **TestGenerator** - è‡ªåŠ¨ç”Ÿæˆè¾¹ç•Œå€¼ã€ç­‰ä»·ç±»ã€é¢†åŸŸç‰¹å®šç­‰æµ‹è¯•ç”¨ä¾‹
2. **VariantComparator** - å¹¶æ’æ¯”è¾ƒå¤šä¸ªpromptç‰ˆæœ¬ (å®Œæ•´æ€§ã€å‡†ç¡®æ€§ã€æ ¼å¼ç­‰)
3. **QualityGrader** - 5åˆ†åˆ¶è´¨é‡è¯„åˆ†
4. **VersionManager** - ç®¡ç†promptè¿­ä»£ç‰ˆæœ¬
5. **ExportGenerator** - å¯¼å‡ºPython/TypeScriptä»£ç 

---

## å®ç°è§„åˆ’

### é˜¶æ®µ 1: åŸºç¡€å‡†å¤‡ (Day 1)

#### ç›®æ ‡
- åˆ›å»ºé¡¹ç›®ç»“æ„
- è®¾ç½®æµ‹è¯•æ¡†æ¶
- å‡†å¤‡å¼€å‘ç¯å¢ƒ

#### ä»»åŠ¡

```markdown
- [ ] åˆ›å»º src/prompt_enhancement/meta/ ç›®å½•
- [ ] åˆ›å»º src/prompt_enhancement/improver/ ç›®å½•
- [ ] åˆ›å»º src/prompt_enhancement/templates/ ç›®å½•
- [ ] åˆ›å»º src/prompt_enhancement/workbench/ ç›®å½•
- [ ] åˆ›å»º tests/test_meta/, tests/test_improver/, ç­‰
- [ ] æ›´æ–° requirements.txt (å¦‚æœ‰æ–°ä¾èµ–)
- [ ] åˆ›å»º development.md å¼€å‘æŒ‡å—
```

#### éªŒæ”¶æ ‡å‡†
âœ… æ‰€æœ‰ç›®å½•åˆ›å»ºå®Œæ¯•
âœ… CI/CD ç®¡é“å°±ç»ª

---

### é˜¶æ®µ 2: Meta Prompt Engine (Day 2-3)

#### ç›®æ ‡
å®ç°å…ƒæç¤ºè¯ç”Ÿæˆå¼•æ“

#### ä»»åŠ¡

```
Day 2:
- [ ] å®ç° MetaPromptEngine ç±» (3ä¸ªæ ¸å¿ƒæ–¹æ³•)
  - extract_variables()
  - plan_structure()
  - write_instructions()
- [ ] å®ç° XMLBuilder (ç»„è£…å’Œæ ¼å¼åŒ–)
- [ ] ç¼–å†™åŸºç¡€å•å…ƒæµ‹è¯•

Day 3:
- [ ] é›†æˆåˆ°CLI (pe generate åˆç‰ˆ)
- [ ] ç¼–å†™é«˜çº§æµ‹è¯• (5ä¸ªç”¨ä¾‹)
- [ ] æ€§èƒ½ä¼˜åŒ–å’Œç¼“å­˜
```

#### æ–‡ä»¶æ¸…å•

```
æ–°å¢æ–‡ä»¶:
â”œâ”€â”€ src/prompt_enhancement/meta/__init__.py
â”œâ”€â”€ src/prompt_enhancement/meta/prompt_engine.py    (~300 è¡Œ)
â”œâ”€â”€ src/prompt_enhancement/meta/xml_builder.py      (~100 è¡Œ)
â””â”€â”€ tests/test_meta/test_prompt_engine.py           (~200 è¡Œ)

ä¿®æ”¹æ–‡ä»¶:
â”œâ”€â”€ src/prompt_enhancement/__init__.py              (ç‰ˆæœ¬æ›´æ–°)
â””â”€â”€ src/prompt_enhancement/cli/pe_command.py        (è·¯ç”±)
```

#### éªŒæ”¶æ ‡å‡†
âœ… MetaPromptEngine èƒ½å¤„ç†5ç§ä¸åŒä»»åŠ¡ç±»å‹
âœ… ç”Ÿæˆçš„XMLé€šè¿‡æ ¼å¼éªŒè¯
âœ… æµ‹è¯•è¦†ç›–ç‡ >80%
âœ… ç¼“å­˜å‘½ä¸­ç‡ >50% (ç›¸åŒä»»åŠ¡)

---

### é˜¶æ®µ 3: Template Library æ‰©å±• (Day 4-5)

#### ç›®æ ‡
åˆ›å»º20+é«˜è´¨é‡åœºæ™¯åŒ–æ¨¡æ¿

#### ä»»åŠ¡

```
Day 4:
- [ ] è®¾è®¡æ¨¡æ¿YAML schema
- [ ] åˆ›å»º TemplateLoader (è¯»å–ã€è§£æã€æ¸²æŸ“)
- [ ] åˆ›å»º TemplateMatcher (æ ¹æ®å…³é”®è¯é€‰æ‹©)
- [ ] ç¼–å†™ 5 ä¸ª coding æ¨¡æ¿
- [ ] ç¼–å†™ 4 ä¸ª data æ¨¡æ¿

Day 5:
- [ ] ç¼–å†™ 4 ä¸ª writing æ¨¡æ¿
- [ ] ç¼–å†™ 4 ä¸ª analysis æ¨¡æ¿
- [ ] ç¼–å†™ 3 ä¸ª meta æ¨¡æ¿ (Prompt Generator, Improver, Chainç­‰)
- [ ] ç¼–å†™æ¨¡æ¿æµ‹è¯• (æ¯ä¸ªæ¨¡æ¿2ä¸ª)
```

#### æ–‡ä»¶æ¸…å•

```
æ–°å¢æ–‡ä»¶:
templates/
â”œâ”€â”€ coding/
â”‚   â”œâ”€â”€ bug_buster.yaml           # Python Bug ä¿®å¤
â”‚   â”œâ”€â”€ code_reviewer.yaml        # ä»£ç å®¡æŸ¥
â”‚   â”œâ”€â”€ refactor_guide.yaml       # é‡æ„æŒ‡å—
â”‚   â”œâ”€â”€ test_generator.yaml       # æµ‹è¯•ç”Ÿæˆ
â”‚   â””â”€â”€ sql_sorcerer.yaml         # SQL ä¼˜åŒ–
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ csv_converter.yaml
â”‚   â”œâ”€â”€ excel_formula.yaml
â”‚   â”œâ”€â”€ data_organizer.yaml
â”‚   â””â”€â”€ json_transformer.yaml
â”œâ”€â”€ writing/
â”‚   â”œâ”€â”€ prose_polisher.yaml
â”‚   â”œâ”€â”€ technical_doc.yaml
â”‚   â”œâ”€â”€ api_doc.yaml
â”‚   â””â”€â”€ readme_generator.yaml
â”œâ”€â”€ analysis/
â”‚   â”œâ”€â”€ code_audit.yaml
â”‚   â”œâ”€â”€ security_review.yaml
â”‚   â”œâ”€â”€ performance_analysis.yaml
â”‚   â””â”€â”€ dependency_check.yaml
â””â”€â”€ meta/
    â”œâ”€â”€ prompt_generator.yaml
    â”œâ”€â”€ prompt_improver.yaml
    â””â”€â”€ chain_of_thought.yaml

ä¿®æ”¹æ–‡ä»¶:
â”œâ”€â”€ src/prompt_enhancement/config/templates.py      (æ‰©å±•)
â””â”€â”€ src/prompt_enhancement/config/schema.py         (æ›´æ–°schema)
```

#### éªŒæ”¶æ ‡å‡†
âœ… 20ä¸ªæ¨¡æ¿å…¨éƒ¨å¯åŠ è½½
âœ… æ¯ä¸ªæ¨¡æ¿æœ‰è‡³å°‘2ä¸ªç¤ºä¾‹
âœ… Jinja2å˜é‡æ³¨å…¥æ­£å¸¸å·¥ä½œ
âœ… æ¨¡æ¿åŒ¹é…å‡†ç¡®ç‡ >90%

---

### é˜¶æ®µ 4: Prompt Improver (Day 6-8)

#### ç›®æ ‡
å®ç°è‡ªåŠ¨ä¼˜åŒ–å¼•æ“

#### ä»»åŠ¡

```
Day 6:
- [ ] å®ç° PromptImprover æ ¸å¿ƒç±»
- [ ] å®ç° ChainOfThoughtInjection ç­–ç•¥
- [ ] å®ç° ExampleStandardization ç­–ç•¥
- [ ] ç¼–å†™åŸºç¡€æµ‹è¯•

Day 7:
- [ ] å®ç° ExampleEnrichment ç­–ç•¥
- [ ] å®ç° InstructionClarity ç­–ç•¥
- [ ] å®ç° VariableTagging ç­–ç•¥
- [ ] å®ç°åé¦ˆå¾ªç¯

Day 8:
- [ ] é›†æˆåˆ°CLI (pe improve)
- [ ] ç¼–å†™å®Œæ•´æµ‹è¯•
- [ ] æ€§èƒ½åŸºå‡†æµ‹è¯•
- [ ] æ–‡æ¡£
```

#### æ–‡ä»¶æ¸…å•

```
æ–°å¢æ–‡ä»¶:
src/prompt_enhancement/improver/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ improver.py                           (~200 è¡Œ)
â”œâ”€â”€ strategies/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ cot_injection.py                  (~80 è¡Œ)
â”‚   â”œâ”€â”€ example_standardization.py        (~100 è¡Œ)
â”‚   â”œâ”€â”€ example_enrichment.py             (~100 è¡Œ)
â”‚   â”œâ”€â”€ instruction_clarity.py            (~100 è¡Œ)
â”‚   â””â”€â”€ variable_tagging.py               (~80 è¡Œ)
â””â”€â”€ feedback_loop.py                      (~100 è¡Œ)

tests/test_improver/
â”œâ”€â”€ test_improver_core.py                 (~250 è¡Œ)
â””â”€â”€ test_strategies.py                    (~300 è¡Œ)
```

#### éªŒæ”¶æ ‡å‡†
âœ… 5ä¸ªä¼˜åŒ–ç­–ç•¥å…¨éƒ¨å®ç°
âœ… æ”¹è¿›æ•ˆæœ >20% (é‡åŒ–æŒ‡æ ‡)
âœ… æµ‹è¯•è¦†ç›–ç‡ >80%
âœ… CLIå‘½ä»¤å¯æ‰§è¡Œ

---

### é˜¶æ®µ 5: Workbench ç³»ç»Ÿ (Day 9-11)

#### ç›®æ ‡
å®ç°æœ¬åœ°promptæµ‹è¯•å’Œè¯„ä¼°

#### ä»»åŠ¡

```
Day 9:
- [ ] å®ç° TestGenerator (è¾¹ç•Œå€¼ã€ç­‰ä»·ç±»ã€é¢†åŸŸç‰¹å®š)
- [ ] å®ç° QualityGrader (5åˆ†åˆ¶è¯„åˆ†)
- [ ] ç¼–å†™åŸºç¡€æµ‹è¯•

Day 10:
- [ ] å®ç° VariantComparator (å¹¶æ’æ¯”è¾ƒ)
- [ ] å®ç° VersionManager (ç‰ˆæœ¬ç®¡ç†)
- [ ] ç¼–å†™æµ‹è¯•

Day 11:
- [ ] å®ç° ExportGenerator (ä»£ç å¯¼å‡º)
- [ ] é›†æˆåˆ°CLI (pe workbench)
- [ ] ç¼–å†™å®Œæ•´æµ‹è¯•
```

#### æ–‡ä»¶æ¸…å•

```
æ–°å¢æ–‡ä»¶:
src/prompt_enhancement/workbench/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ test_generator.py                     (~150 è¡Œ)
â”œâ”€â”€ variant_comparator.py                 (~200 è¡Œ)
â”œâ”€â”€ quality_grader.py                     (~100 è¡Œ)
â”œâ”€â”€ version_manager.py                    (~150 è¡Œ)
â””â”€â”€ export_generator.py                   (~100 è¡Œ)

tests/test_workbench/
â”œâ”€â”€ test_test_generator.py                (~150 è¡Œ)
â”œâ”€â”€ test_variant_comparator.py            (~150 è¡Œ)
â”œâ”€â”€ test_quality_grader.py                (~100 è¡Œ)
â”œâ”€â”€ test_version_manager.py               (~100 è¡Œ)
â””â”€â”€ test_export_generator.py              (~100 è¡Œ)
```

#### éªŒæ”¶æ ‡å‡†
âœ… 5ä¸ªå­æ¨¡å—å…¨éƒ¨å®ç°
âœ… èƒ½ç”Ÿæˆ10+ä¸ªå¤šæ ·åŒ–çš„æµ‹è¯•ç”¨ä¾‹
âœ… èƒ½å‡†ç¡®è¯„åˆ†promptè´¨é‡
âœ… ç‰ˆæœ¬ç®¡ç†æ­£å¸¸å·¥ä½œ
âœ… ä»£ç å¯¼å‡ºæ ¼å¼æ­£ç¡®

---

### é˜¶æ®µ 6: CLI é›†æˆ (Day 12-13)

#### ç›®æ ‡
æ•´åˆæ‰€æœ‰CLIå‘½ä»¤ï¼Œæä¾›å®Œæ•´çš„ç”¨æˆ·ç•Œé¢

#### ä»»åŠ¡

```
Day 12:
- [ ] åˆ›å»º cli/commands/ ç»“æ„
- [ ] å®ç° generate.py (pe generate å‘½ä»¤)
- [ ] å®ç° improve.py (pe improve å‘½ä»¤)
- [ ] ä¿®æ”¹ pe_command.py æ”¯æŒè·¯ç”±

Day 13:
- [ ] å®ç° template.py (pe template å‘½ä»¤)
- [ ] å®ç° workbench.py (pe workbench å‘½ä»¤)
- [ ] ç¼–å†™CLIé›†æˆæµ‹è¯•
- [ ] æ›´æ–°å¸®åŠ©æ–‡æ¡£
```

#### æ–‡ä»¶æ¸…å•

```
æ–°å¢æ–‡ä»¶:
src/prompt_enhancement/cli/commands/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ generate.py                           (~100 è¡Œ)
â”œâ”€â”€ improve.py                            (~100 è¡Œ)
â”œâ”€â”€ template.py                           (~100 è¡Œ)
â””â”€â”€ workbench.py                          (~150 è¡Œ)

ä¿®æ”¹æ–‡ä»¶:
â”œâ”€â”€ src/prompt_enhancement/cli/pe_command.py    (å‘½ä»¤è·¯ç”±)
â””â”€â”€ src/prompt_enhancement/__init__.py          (ç‰ˆæœ¬ â†’ v1.4.0)
```

#### éªŒæ”¶æ ‡å‡†
âœ… 4ä¸ªæ–°å‘½ä»¤å…¨éƒ¨å¯æ‰§è¡Œ
âœ… å¸®åŠ©æ–‡æ¡£å®Œæ•´
âœ… å‘½ä»¤è¡Œå‚æ•°éªŒè¯æ­£å¸¸

---

### é˜¶æ®µ 7: æµ‹è¯•å’Œä¼˜åŒ– (Day 14)

#### ç›®æ ‡
å…¨é¢æµ‹è¯•ã€æ€§èƒ½ä¼˜åŒ–ã€æ–‡æ¡£å®Œæˆ

#### ä»»åŠ¡

```
- [ ] ç«¯åˆ°ç«¯é›†æˆæµ‹è¯• (æ‰€æœ‰å·¥ä½œæµ)
- [ ] æ€§èƒ½åŸºå‡†æµ‹è¯• (å“åº”æ—¶é—´ã€å†…å­˜ä½¿ç”¨)
- [ ] å‘åå…¼å®¹æ€§æµ‹è¯• (v1.2åŠŸèƒ½)
- [ ] å®‰å…¨å®¡æŸ¥
- [ ] æ–‡æ¡£å®Œæˆ (READMEã€API docsã€ä½¿ç”¨æŒ‡å—)
- [ ] å‘å¸ƒå‡†å¤‡ (ç‰ˆæœ¬æ ‡ç­¾ã€CHANGELOG)
```

#### éªŒæ”¶æ ‡å‡†
âœ… æ‰€æœ‰æ–°æµ‹è¯•é€šè¿‡ (è¦†ç›–ç‡ >80%)
âœ… v1.2 åŠŸèƒ½æµ‹è¯•å…¨éƒ¨é€šè¿‡
âœ… æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡ (CLI <10s, ç¼“å­˜å‘½ä¸­ <1s)
âœ… æ–‡æ¡£å®Œæ•´å’Œå‡†ç¡®

---

## éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½éªŒæ”¶

| æ¨¡å— | éªŒæ”¶æ ‡å‡† | æ£€æŸ¥æ–¹å¼ |
|------|----------|---------|
| **Meta Engine** | èƒ½ä»5ç§ä¸åŒä»»åŠ¡ç”ŸæˆXML | æ‰‹åŠ¨æµ‹è¯•+å•å…ƒæµ‹è¯• |
| **Templateåº“** | 20ä¸ªæ¨¡æ¿ï¼Œæ‰€æœ‰æœ‰ç¤ºä¾‹ | æ¨¡æ¿åŠ è½½æµ‹è¯• |
| **Improver** | 5ä¸ªç­–ç•¥ï¼Œæ•ˆæœ>20% | æ•ˆæœæŒ‡æ ‡æµ‹è¯• |
| **Workbench** | 5ä¸ªå­æ¨¡å—å¯ç”¨ | é›†æˆæµ‹è¯• |
| **CLI** | 4ä¸ªæ–°å‘½ä»¤å¯æ‰§è¡Œ | CLIé›†æˆæµ‹è¯• |

### ä»£ç è´¨é‡

| æŒ‡æ ‡ | ç›®æ ‡ |
|------|------|
| æ–°å¢ä»£ç è¦†ç›–ç‡ | >80% |
| å‘åå…¼å®¹æ€§ | 100% (v1.2å…¨éƒ¨é€šè¿‡) |
| Pylintè¯„åˆ† | >8.5 |
| æ–‡æ¡£å®Œæ•´åº¦ | 100% |

### æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡ |
|------|------|
| CLIå‘½ä»¤å“åº”æ—¶é—´ | <10ç§’ |
| ç¼“å­˜å‘½ä¸­å“åº”æ—¶é—´ | <1ç§’ |
| å†…å­˜ä½¿ç”¨ | <100MB |
| Tokenæ•ˆç‡ | <2000 tokens/è¯·æ±‚ |

---

## é£é™©ç®¡ç†

### å·²è¯†åˆ«çš„é£é™©

| é£é™© | å½±å“ | æ¦‚ç‡ | ç¼“è§£æ–¹æ¡ˆ |
|------|------|------|---------|
| **LLM API é™æµ** | å»¶è¿Ÿ | é«˜ | æ·»åŠ é‡è¯•+é€€é¿æœºåˆ¶ï¼Œä¼˜åŒ–tokenä½¿ç”¨ |
| **æ¨¡æ¿æ•°æ®ä¸ä¸€è‡´** | æ•°æ®é”™è¯¯ | ä¸­ | SchemaéªŒè¯ï¼Œå•å…ƒæµ‹è¯•è¦†ç›– |
| **æ€§èƒ½ä¸‹é™** | ç”¨æˆ·ä½“éªŒ | ä¸­ | ç¼“å­˜ä¼˜åŒ–ï¼Œæ€§èƒ½åŸºå‡†æµ‹è¯• |
| **å‘åå…¼å®¹é—®é¢˜** | åŠŸèƒ½ç ´æŸ | ä½ | å®Œæ•´çš„å…¼å®¹æ€§æµ‹è¯•å¥—ä»¶ |

### ç¼“è§£è®¡åˆ’

1. **API é™æµ** - å®ç°æ™ºèƒ½ç¼“å­˜å’Œè¯·æ±‚åˆå¹¶
2. **æ•°æ®ä¸€è‡´æ€§** - å®Œæ•´çš„YAML schemaéªŒè¯
3. **æ€§èƒ½** - å®šæœŸåŸºå‡†æµ‹è¯•ï¼Œç¼“å­˜ä¼˜åŒ–
4. **å…¼å®¹æ€§** - æ‰€æœ‰v1.2æµ‹è¯•å¿…é¡»é€šè¿‡

---

## æ—¶é—´è¡¨

### æ€»ä½“æ—¶é—´çº¿

```
Week 1 (Day 1-5)
â”œâ”€ Day 1:    åŸºç¡€å‡†å¤‡ + Meta Engine å¼€å§‹
â”œâ”€ Day 2-3:  Meta Engine å®Œæˆ
â”œâ”€ Day 4-5:  Template Library åˆ›å»º

Week 2 (Day 6-10)
â”œâ”€ Day 6-8:  Prompt Improver å®ç°
â”œâ”€ Day 9-10: Workbench åŸºç¡€æ¨¡å—

Week 3 (Day 11-14)
â”œâ”€ Day 11:   Workbench å®Œæˆ
â”œâ”€ Day 12-13: CLI é›†æˆ
â””â”€ Day 14:   æµ‹è¯•ã€ä¼˜åŒ–ã€å‘å¸ƒå‡†å¤‡

é¢„æœŸäº¤ä»˜: Day 14 (2å‘¨)
```

### å…³é”®é‡Œç¨‹ç¢‘

| é‡Œç¨‹ç¢‘ | æ—¥æœŸ | éªŒæ”¶æ ‡å‡† |
|--------|------|----------|
| **M1: Meta Engine** | Day 3 | èƒ½ä»ä»»åŠ¡ç”ŸæˆXML |
| **M2: Template Library** | Day 5 | 20ä¸ªæ¨¡æ¿å¯ç”¨ |
| **M3: Improver** | Day 8 | 5ä¸ªç­–ç•¥å®ç° |
| **M4: Workbench** | Day 11 | æ‰€æœ‰å­æ¨¡å—å¯ç”¨ |
| **M5: CLIå®Œæ•´** | Day 13 | æ‰€æœ‰å‘½ä»¤å°±ç»ª |
| **M6: v1.4å‘å¸ƒ** | Day 14 | å…¨éƒ¨æµ‹è¯•é€šè¿‡ |

---

## é™„å½•

### A. æŠ€æœ¯å€ºåŠ¡

- ç°æœ‰v1.2ä»£ç åº“ä¸­çš„å°è§„æ¨¡ä¼˜åŒ–æœºä¼šï¼ˆä¸å½±å“v1.4ï¼‰
- å¯é€‰ï¼šæ€§èƒ½åˆ†æå’Œprofilingï¼ˆå¦‚æœ‰æ—¶é—´ï¼‰

### B. æœªæ¥å¢å¼ºï¼ˆv1.5+ï¼‰

- [ ] Web UI ç”¨äºWorkbench
- [ ] ç”¨æˆ·åé¦ˆå¾ªç¯çš„æœºå™¨å­¦ä¹ 
- [ ] é«˜çº§templateè¯­è¨€æ”¯æŒ
- [ ] å›¢é˜Ÿåä½œfeatures

### C. å‚è€ƒèµ„æº

- [v1.2 å®Œæ•´æ¶æ„åˆ†æ](./v1.2_ARCHITECTURE_ANALYSIS.md)
- [Claude Cookbooks](https://github.com/anthropics/claude-cookbooks)
- [Anthropic Prompt Library](https://docs.anthropic.com/en/prompt-library/library)
- [BMAD Methodæ–‡æ¡£](../../_bmad/bmm/README.md)

---

**æ–‡æ¡£ç»“æŸ**
*æœ€åæ›´æ–°: 2025-12-24*
*ç”±BMAD Masterç¼–åˆ¶*
