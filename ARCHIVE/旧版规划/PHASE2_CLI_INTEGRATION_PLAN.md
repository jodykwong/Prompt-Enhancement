# é˜¶æ®µ 2: Claude Code CLI é›†æˆæ–¹æ¡ˆ

**è§„åˆ’æ—¥æœŸ**: 2025-12-09  
**é˜¶æ®µ**: é˜¶æ®µ 2 - Claude Code CLI é›†æˆ  
**æ—¶é—´**: ç¬¬ 4-8 å¤©  
**çŠ¶æ€**: ğŸ“‹ **è§„åˆ’ä¸­**

---

## ğŸ¯ **æ ¸å¿ƒç›®æ ‡**

å°† Prompt Enhancement åŠŸèƒ½é›†æˆåˆ° Claude Code CLI å·¥å…·ä¸­ï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿé€šè¿‡å‘½ä»¤è¡Œå¿«é€Ÿå¢å¼ºæç¤ºè¯ã€‚

---

## ğŸ“‹ **ä¿®æ­£åçš„é˜¶æ®µ 2 è®¡åˆ’**ï¼ˆç¬¬ 4-8 å¤©ï¼‰

### **Day 4: è®¾è®¡ Claude Code CLI é›†æˆæ–¹æ¡ˆ**ï¼ˆä»Šå¤©ï¼‰

#### **ä»»åŠ¡ 1: ç ”ç©¶ Claude Code CLI**ï¼ˆ2-3 å°æ—¶ï¼‰

**ç›®æ ‡**: äº†è§£ Claude Code CLI çš„å·¥ä½œåŸç†å’Œæ‰©å±•æœºåˆ¶

**ç ”ç©¶å†…å®¹**:
1. **Claude Code CLI åŸºç¡€**
   - Claude Code æ˜¯ä»€ä¹ˆï¼Ÿ
   - å¦‚ä½•å®‰è£…å’Œä½¿ç”¨ï¼Ÿ
   - æ”¯æŒå“ªäº›å‘½ä»¤å’Œé€‰é¡¹ï¼Ÿ

2. **æ‰©å±•æœºåˆ¶ç ”ç©¶**
   - æ˜¯å¦æ”¯æŒæ’ä»¶ç³»ç»Ÿï¼Ÿ
   - æ˜¯å¦æ”¯æŒè‡ªå®šä¹‰å‘½ä»¤ï¼Ÿ
   - å¦‚ä½•ä¸å¤–éƒ¨å·¥å…·é›†æˆï¼Ÿ

3. **é›†æˆæ–¹å¼æ¢ç´¢**
   - æ–¹å¼ 1: ä½œä¸ºç‹¬ç«‹ CLI å·¥å…·ï¼ˆæ¨èï¼‰
   - æ–¹å¼ 2: ä½œä¸º Claude Code çš„åŒ…è£…å™¨
   - æ–¹å¼ 3: é€šè¿‡ç®¡é“/é‡å®šå‘é›†æˆ

**è¾“å‡º**:
- Claude Code CLI ç ”ç©¶æŠ¥å‘Š
- é›†æˆæ–¹å¼å¯¹æ¯”åˆ†æ
- æ¨èé›†æˆæ–¹æ¡ˆ

---

#### **ä»»åŠ¡ 2: è®¾è®¡ CLI æ¥å£**ï¼ˆ2-3 å°æ—¶ï¼‰

**ç›®æ ‡**: è®¾è®¡ç”¨æˆ·å‹å¥½çš„å‘½ä»¤è¡Œæ¥å£

**è®¾è®¡å†…å®¹**:

**1. å‘½ä»¤ç»“æ„è®¾è®¡**

```bash
# æ–¹æ¡ˆ A: ç‹¬ç«‹ CLI å·¥å…·ï¼ˆæ¨èï¼‰
prompt-enhance "ä¿®å¤ç™»å½• bug"
prompt-enhance --file input.txt --output enhanced.txt
prompt-enhance --interactive

# æ–¹æ¡ˆ B: ä½œä¸º Claude Code çš„å‰ç½®å¤„ç†å™¨
prompt-enhance "ä¿®å¤ç™»å½• bug" | claude-code

# æ–¹æ¡ˆ C: é›†æˆåˆ° Claude Codeï¼ˆå¦‚æœæ”¯æŒæ’ä»¶ï¼‰
claude-code enhance "ä¿®å¤ç™»å½• bug"
```

**2. å‘½ä»¤è¡Œå‚æ•°è®¾è®¡**

```bash
prompt-enhance [OPTIONS] <PROMPT>

å‚æ•°:
  <PROMPT>              å¾…å¢å¼ºçš„æç¤ºè¯ï¼ˆå¿…éœ€ï¼‰

é€‰é¡¹:
  -f, --file <FILE>     ä»æ–‡ä»¶è¯»å–æç¤ºè¯
  -o, --output <FILE>   å°†å¢å¼ºç»“æœä¿å­˜åˆ°æ–‡ä»¶
  -i, --interactive     äº¤äº’å¼æ¨¡å¼
  --show-reasoning      æ˜¾ç¤ºæ¨¡å‹çš„æ€è€ƒè¿‡ç¨‹
  --no-progress         ä¸æ˜¾ç¤ºè¿›åº¦æ¡
  --timeout <SECONDS>   API è°ƒç”¨è¶…æ—¶æ—¶é—´ï¼ˆé»˜è®¤ 60 ç§’ï¼‰
  --json                ä»¥ JSON æ ¼å¼è¾“å‡ºç»“æœ
  -v, --verbose         è¯¦ç»†è¾“å‡ºæ¨¡å¼
  -h, --help            æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  --version             æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯
```

**3. è¾“å‡ºæ ¼å¼è®¾è®¡**

```bash
# é»˜è®¤è¾“å‡ºï¼ˆç®€æ´æ¨¡å¼ï¼‰
$ prompt-enhance "ä¿®å¤ç™»å½• bug"

â³ æ­£åœ¨å¢å¼ºæç¤ºè¯...
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 100%

âœ… å¢å¼ºå®Œæˆ

ã€å¢å¼ºåçš„æç¤ºè¯ã€‘
1. **å®šä½ç™»å½•é¡µé¢æ–‡ä»¶ï¼š** æ£€æŸ¥å‰ç«¯ç™»å½•é¡µé¢ç»„ä»¶...
2. **æ£€æŸ¥ç™»å½•é€»è¾‘ï¼š** å®¡æŸ¥ç™»å½•è¡¨å•çš„æäº¤é€»è¾‘...
...

ã€ç»Ÿè®¡ä¿¡æ¯ã€‘
åŸå§‹é•¿åº¦: 12 å­—ç¬¦
å¢å¼ºåé•¿åº¦: 580 å­—ç¬¦
æ‰©å±•æ¯”ä¾‹: 48.33x
å¤„ç†æ—¶é—´: 38.27 ç§’

# JSON è¾“å‡º
$ prompt-enhance "ä¿®å¤ç™»å½• bug" --json
{
  "original": "ä¿®å¤ç™»å½• bug",
  "enhanced": "1. **å®šä½ç™»å½•é¡µé¢æ–‡ä»¶ï¼š** ...",
  "reasoning": "...",
  "processing_time": 38.27,
  "success": true,
  "stats": {
    "original_length": 12,
    "enhanced_length": 580,
    "expansion_ratio": 48.33
  }
}
```

**è¾“å‡º**:
- CLI æ¥å£è®¾è®¡æ–‡æ¡£
- å‘½ä»¤è¡Œå‚æ•°è§„èŒƒ
- è¾“å‡ºæ ¼å¼ç¤ºä¾‹

---

#### **ä»»åŠ¡ 3: è®¾è®¡é›†æˆæ¶æ„**ï¼ˆ1-2 å°æ—¶ï¼‰

**ç›®æ ‡**: è®¾è®¡ CLI å·¥å…·çš„æŠ€æœ¯æ¶æ„

**æ¶æ„è®¾è®¡**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ç”¨æˆ·å‘½ä»¤è¡Œ                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  prompt_enhance_cli.py                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  CLI å…¥å£ (main)                                       â”‚  â”‚
â”‚  â”‚  - å‚æ•°è§£æ (argparse)                                 â”‚  â”‚
â”‚  â”‚  - å‘½ä»¤åˆ†å‘                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                            â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  CLI å¤„ç†å™¨ (PromptEnhanceCLI)                         â”‚  â”‚
â”‚  â”‚  - è¾“å…¥å¤„ç†ï¼ˆæ–‡ä»¶/æ ‡å‡†è¾“å…¥/å‚æ•°ï¼‰                       â”‚  â”‚
â”‚  â”‚  - è¿›åº¦æ˜¾ç¤ºï¼ˆrich åº“ï¼‰                                 â”‚  â”‚
â”‚  â”‚  - è¾“å‡ºæ ¼å¼åŒ–ï¼ˆæ–‡æœ¬/JSONï¼‰                             â”‚  â”‚
â”‚  â”‚  - é”™è¯¯å¤„ç†                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                            â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              async_prompt_enhancer.py                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  AsyncPromptEnhancer                                   â”‚  â”‚
â”‚  â”‚  - async def enhance()                                 â”‚  â”‚
â”‚  â”‚  - è¿›åº¦å›è°ƒ                                            â”‚  â”‚
â”‚  â”‚  - å–æ¶ˆæœºåˆ¶                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DeepSeek API                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒç»„ä»¶**:

1. **CLI å…¥å£** (`prompt_enhance_cli.py`)
   - ä½¿ç”¨ `argparse` è§£æå‘½ä»¤è¡Œå‚æ•°
   - ä½¿ç”¨ `rich` åº“ç¾åŒ–è¾“å‡ºå’Œè¿›åº¦æ˜¾ç¤º
   - ä½¿ç”¨ `asyncio` è¿è¡Œå¼‚æ­¥å¢å¼º

2. **CLI å¤„ç†å™¨** (`PromptEnhanceCLI` ç±»)
   - è¾“å…¥å¤„ç†ï¼šæ”¯æŒå‘½ä»¤è¡Œå‚æ•°ã€æ–‡ä»¶ã€æ ‡å‡†è¾“å…¥
   - è¿›åº¦æ˜¾ç¤ºï¼šä½¿ç”¨ `rich.progress` æ˜¾ç¤ºè¿›åº¦æ¡
   - è¾“å‡ºæ ¼å¼åŒ–ï¼šæ”¯æŒæ–‡æœ¬å’Œ JSON æ ¼å¼
   - é”™è¯¯å¤„ç†ï¼šå‹å¥½çš„é”™è¯¯æç¤º

3. **å¼‚æ­¥å¢å¼ºå™¨** (`AsyncPromptEnhancer`)
   - å·²å®ç°ï¼Œç›´æ¥ä½¿ç”¨

**è¾“å‡º**:
- é›†æˆæ¶æ„è®¾è®¡æ–‡æ¡£
- ç»„ä»¶èŒè´£è¯´æ˜
- æ•°æ®æµå›¾

---

### **Day 5-6: å®ç° CLI é›†æˆ**

#### **Day 5: æ ¸å¿ƒåŠŸèƒ½å®ç°**ï¼ˆ6-8 å°æ—¶ï¼‰

**ä»»åŠ¡ 1: åˆ›å»º CLI å…¥å£**ï¼ˆ2 å°æ—¶ï¼‰
- åˆ›å»º `prompt_enhance_cli.py`
- å®ç°å‚æ•°è§£æï¼ˆargparseï¼‰
- å®ç°å‘½ä»¤åˆ†å‘é€»è¾‘

**ä»»åŠ¡ 2: å®ç° CLI å¤„ç†å™¨**ï¼ˆ3 å°æ—¶ï¼‰
- åˆ›å»º `PromptEnhanceCLI` ç±»
- å®ç°è¾“å…¥å¤„ç†ï¼ˆæ–‡ä»¶/æ ‡å‡†è¾“å…¥/å‚æ•°ï¼‰
- å®ç°è¿›åº¦æ˜¾ç¤ºï¼ˆrich.progressï¼‰
- å®ç°è¾“å‡ºæ ¼å¼åŒ–ï¼ˆæ–‡æœ¬/JSONï¼‰

**ä»»åŠ¡ 3: é›†æˆå¼‚æ­¥å¢å¼ºå™¨**ï¼ˆ1 å°æ—¶ï¼‰
- è¿æ¥ `AsyncPromptEnhancer`
- å®ç°è¿›åº¦å›è°ƒ
- å®ç°å–æ¶ˆæœºåˆ¶ï¼ˆCtrl+Cï¼‰

**è¾“å‡º**:
- `prompt_enhance_cli.py` (æ ¸å¿ƒ CLI å·¥å…·)
- åŸºç¡€åŠŸèƒ½å¯ç”¨

---

#### **Day 6: é«˜çº§åŠŸèƒ½å®ç°**ï¼ˆ6-8 å°æ—¶ï¼‰

**ä»»åŠ¡ 1: å®ç°äº¤äº’å¼æ¨¡å¼**ï¼ˆ2 å°æ—¶ï¼‰
- å®ç° `--interactive` æ¨¡å¼
- æ”¯æŒå¤šè½®å¢å¼º
- æ”¯æŒå†å²è®°å½•

**ä»»åŠ¡ 2: å®ç°æ–‡ä»¶å¤„ç†**ï¼ˆ2 å°æ—¶ï¼‰
- å®ç° `--file` è¾“å…¥
- å®ç° `--output` è¾“å‡º
- æ”¯æŒæ‰¹é‡å¤„ç†

**ä»»åŠ¡ 3: ç¾åŒ–è¾“å‡º**ï¼ˆ2 å°æ—¶ï¼‰
- ä½¿ç”¨ `rich` åº“ç¾åŒ–è¾“å‡º
- æ·»åŠ é¢œè‰²å’Œæ ¼å¼
- æ·»åŠ è¿›åº¦æ¡å’ŒåŠ¨ç”»

**è¾“å‡º**:
- å®Œæ•´çš„ CLI å·¥å…·
- æ‰€æœ‰åŠŸèƒ½å®ç°

---

### **Day 7: é›†æˆæµ‹è¯•**

#### **æµ‹è¯•å†…å®¹**ï¼ˆ6-8 å°æ—¶ï¼‰

**1. åŠŸèƒ½æµ‹è¯•**ï¼ˆ3 å°æ—¶ï¼‰
- æµ‹è¯•åŸºç¡€å‘½ä»¤
- æµ‹è¯•æ‰€æœ‰å‚æ•°é€‰é¡¹
- æµ‹è¯•äº¤äº’å¼æ¨¡å¼
- æµ‹è¯•æ–‡ä»¶è¾“å…¥/è¾“å‡º
- æµ‹è¯• JSON è¾“å‡º

**2. é›†æˆæµ‹è¯•**ï¼ˆ2 å°æ—¶ï¼‰
- æµ‹è¯•ä¸ async_prompt_enhancer.py çš„é›†æˆ
- æµ‹è¯•è¿›åº¦å›è°ƒ
- æµ‹è¯•å–æ¶ˆæœºåˆ¶
- æµ‹è¯•é”™è¯¯å¤„ç†

**3. ç”¨æˆ·ä½“éªŒæµ‹è¯•**ï¼ˆ1 å°æ—¶ï¼‰
- æµ‹è¯•è¿›åº¦æ˜¾ç¤º
- æµ‹è¯•è¾“å‡ºæ ¼å¼
- æµ‹è¯•é”™è¯¯æç¤º
- æµ‹è¯•å¸®åŠ©ä¿¡æ¯

**è¾“å‡º**:
- é›†æˆæµ‹è¯•æŠ¥å‘Š
- å‘ç°çš„é—®é¢˜æ¸…å•
- ä¿®å¤è®¡åˆ’

---

### **Day 8: ä¼˜åŒ–å’Œæ–‡æ¡£**

#### **ä¼˜åŒ–å·¥ä½œ**ï¼ˆ3-4 å°æ—¶ï¼‰

**1. æ€§èƒ½ä¼˜åŒ–**
- ä¼˜åŒ–å¯åŠ¨æ—¶é—´
- ä¼˜åŒ–å†…å­˜å ç”¨
- ä¼˜åŒ– API è°ƒç”¨

**2. ç”¨æˆ·ä½“éªŒä¼˜åŒ–**
- ä¼˜åŒ–è¿›åº¦æ˜¾ç¤º
- ä¼˜åŒ–é”™è¯¯æç¤º
- ä¼˜åŒ–è¾“å‡ºæ ¼å¼

**3. ä»£ç ä¼˜åŒ–**
- ä»£ç é‡æ„
- æ·»åŠ æ³¨é‡Š
- ä»£ç å®¡æŸ¥

#### **æ–‡æ¡£ç¼–å†™**ï¼ˆ3-4 å°æ—¶ï¼‰

**1. ç”¨æˆ·æ–‡æ¡£**
- CLI ä½¿ç”¨æŒ‡å—
- å‘½ä»¤å‚æ•°è¯´æ˜
- ä½¿ç”¨ç¤ºä¾‹
- å¸¸è§é—®é¢˜

**2. å¼€å‘æ–‡æ¡£**
- æ¶æ„è®¾è®¡æ–‡æ¡£
- API æ–‡æ¡£
- é›†æˆæŒ‡å—

**è¾“å‡º**:
- CLI_USAGE_GUIDE.md
- CLI_INTEGRATION_GUIDE.md
- ä¼˜åŒ–æŠ¥å‘Š

---

## ğŸ“¦ **é¢„æœŸäº¤ä»˜ç‰©**

### **ä»£ç **
1. `prompt_enhance_cli.py` - CLI å…¥å£å’Œä¸»é€»è¾‘
2. `cli_handler.py` - CLI å¤„ç†å™¨ï¼ˆå¯é€‰ï¼Œå¦‚æœä»£ç è¾ƒå¤šï¼‰
3. `setup.py` æˆ– `pyproject.toml` - å®‰è£…é…ç½®

### **æ–‡æ¡£**
4. `CLI_USAGE_GUIDE.md` - CLI ä½¿ç”¨æŒ‡å—
5. `CLI_INTEGRATION_GUIDE.md` - é›†æˆæŒ‡å—
6. `PHASE2_CLI_INTEGRATION_REPORT.md` - é˜¶æ®µ 2 å®ŒæˆæŠ¥å‘Š

### **æµ‹è¯•**
7. `test_cli.py` - CLI æµ‹è¯•è„šæœ¬
8. é›†æˆæµ‹è¯•æŠ¥å‘Š

---

## ğŸ¯ **æˆåŠŸæ ‡å‡†**

- [ ] CLI å·¥å…·å¯ç‹¬ç«‹è¿è¡Œ
- [ ] æ”¯æŒæ‰€æœ‰è®¾è®¡çš„å‘½ä»¤è¡Œå‚æ•°
- [ ] è¿›åº¦æ˜¾ç¤ºæ¸…æ™°å‹å¥½
- [ ] è¾“å‡ºæ ¼å¼ç¾è§‚æ˜“è¯»
- [ ] é”™è¯¯å¤„ç†å®Œå–„
- [ ] æ–‡æ¡£å®Œæ•´æ¸…æ™°
- [ ] æµ‹è¯•è¦†ç›–ç‡ > 80%

---

## ğŸ“Š **æ—¶é—´åˆ†é…**

| ä»»åŠ¡ | æ—¶é—´ | è¯´æ˜ |
|-----|------|------|
| Day 4: è®¾è®¡ | 6-8 å°æ—¶ | ç ”ç©¶ã€è®¾è®¡ã€è§„åˆ’ |
| Day 5: æ ¸å¿ƒå®ç° | 6-8 å°æ—¶ | CLI å…¥å£ã€å¤„ç†å™¨ã€é›†æˆ |
| Day 6: é«˜çº§åŠŸèƒ½ | 6-8 å°æ—¶ | äº¤äº’æ¨¡å¼ã€æ–‡ä»¶å¤„ç†ã€ç¾åŒ– |
| Day 7: é›†æˆæµ‹è¯• | 6-8 å°æ—¶ | åŠŸèƒ½æµ‹è¯•ã€é›†æˆæµ‹è¯•ã€UX æµ‹è¯• |
| Day 8: ä¼˜åŒ–æ–‡æ¡£ | 6-8 å°æ—¶ | æ€§èƒ½ä¼˜åŒ–ã€æ–‡æ¡£ç¼–å†™ |
| **æ€»è®¡** | **30-40 å°æ—¶** | **çº¦ 5 ä¸ªå·¥ä½œæ—¥** |

---

---

## ğŸ’¡ **æŠ€æœ¯å®ç°ç»†èŠ‚**

### **1. ä¾èµ–åº“é€‰æ‹©**

```python
# requirements_cli.txt
rich>=13.0.0          # ç¾åŒ–è¾“å‡ºã€è¿›åº¦æ¡
click>=8.0.0          # CLI æ¡†æ¶ï¼ˆå¯é€‰ï¼Œæ¯” argparse æ›´å¼ºå¤§ï¼‰
python-dotenv>=1.0.0  # ç¯å¢ƒå˜é‡ç®¡ç†ï¼ˆå·²æœ‰ï¼‰
openai>=1.0.0         # DeepSeek APIï¼ˆå·²æœ‰ï¼‰
```

**æ¨èä½¿ç”¨ `rich` çš„ç†ç”±**:
- âœ… ç¾è§‚çš„è¿›åº¦æ¡å’ŒåŠ¨ç”»
- âœ… ä¸°å¯Œçš„æ–‡æœ¬æ ¼å¼åŒ–
- âœ… æ”¯æŒè¡¨æ ¼ã€é¢æ¿ã€è¯­æ³•é«˜äº®
- âœ… æ˜“äºé›†æˆ

**æ¨èä½¿ç”¨ `click` çš„ç†ç”±**:
- âœ… æ¯” argparse æ›´ç®€æ´
- âœ… è‡ªåŠ¨ç”Ÿæˆå¸®åŠ©æ–‡æ¡£
- âœ… æ”¯æŒå­å‘½ä»¤
- âœ… æ›´å¥½çš„ç±»å‹æç¤º

---

### **2. CLI å·¥å…·å®‰è£…æ–¹å¼**

**æ–¹å¼ A: ä½¿ç”¨ setup.pyï¼ˆæ¨èï¼‰**

```python
# setup.py
from setuptools import setup, find_packages

setup(
    name="prompt-enhance",
    version="0.1.0",
    description="AI-powered prompt enhancement CLI tool",
    author="Your Name",
    packages=find_packages(),
    install_requires=[
        "rich>=13.0.0",
        "click>=8.0.0",
        "python-dotenv>=1.0.0",
        "openai>=1.0.0",
    ],
    entry_points={
        "console_scripts": [
            "prompt-enhance=prompt_enhance_cli:main",
        ],
    },
    python_requires=">=3.8",
)
```

**å®‰è£…æ–¹å¼**:
```bash
# å¼€å‘æ¨¡å¼å®‰è£…
pip install -e .

# æ­£å¼å®‰è£…
pip install .

# ä½¿ç”¨
prompt-enhance "ä¿®å¤ç™»å½• bug"
```

**æ–¹å¼ B: ä½¿ç”¨ pyproject.tomlï¼ˆç°ä»£æ–¹å¼ï¼‰**

```toml
# pyproject.toml
[build-system]
requires = ["setuptools>=45", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "prompt-enhance"
version = "0.1.0"
description = "AI-powered prompt enhancement CLI tool"
requires-python = ">=3.8"
dependencies = [
    "rich>=13.0.0",
    "click>=8.0.0",
    "python-dotenv>=1.0.0",
    "openai>=1.0.0",
]

[project.scripts]
prompt-enhance = "prompt_enhance_cli:main"
```

---

### **3. ä¸ Claude Code çš„é›†æˆæ–¹å¼**

**æ–¹å¼ A: ç®¡é“é›†æˆï¼ˆæ¨èï¼‰**

```bash
# å¢å¼ºæç¤ºè¯åä¼ é€’ç»™ Claude Code
prompt-enhance "ä¿®å¤ç™»å½• bug" | claude-code

# æˆ–è€…ä½¿ç”¨å‘½ä»¤æ›¿æ¢
claude-code "$(prompt-enhance "ä¿®å¤ç™»å½• bug" --no-progress)"
```

**æ–¹å¼ B: æ–‡ä»¶é›†æˆ**

```bash
# ä¿å­˜å¢å¼ºç»“æœåˆ°æ–‡ä»¶
prompt-enhance "ä¿®å¤ç™»å½• bug" --output enhanced.txt

# ä½¿ç”¨å¢å¼ºåçš„æç¤ºè¯
claude-code --file enhanced.txt
```

**æ–¹å¼ C: åŒ…è£…è„šæœ¬**

```bash
#!/bin/bash
# claude-code-enhanced.sh

# å¢å¼ºæç¤ºè¯
ENHANCED=$(prompt-enhance "$1" --no-progress --json | jq -r '.enhanced')

# è°ƒç”¨ Claude Code
claude-code "$ENHANCED"
```

---

### **4. è¿›åº¦æ˜¾ç¤ºå®ç°**

```python
from rich.progress import Progress, SpinnerColumn, TextColumn, BarColumn, TimeElapsedColumn

async def enhance_with_progress(prompt: str):
    """å¸¦è¿›åº¦æ˜¾ç¤ºçš„å¢å¼º"""
    with Progress(
        SpinnerColumn(),
        TextColumn("[progress.description]{task.description}"),
        BarColumn(),
        TextColumn("[progress.percentage]{task.percentage:>3.0f}%"),
        TimeElapsedColumn(),
    ) as progress:
        task = progress.add_task("æ­£åœ¨å¢å¼ºæç¤ºè¯...", total=100)

        async def progress_callback(message: str, prog: float):
            progress.update(task, completed=prog * 100, description=message)

        enhancer = AsyncPromptEnhancer()
        result = await enhancer.enhance(
            prompt,
            progress_callback=progress_callback
        )

        return result
```

---

### **5. è¾“å‡ºæ ¼å¼åŒ–å®ç°**

```python
from rich.console import Console
from rich.panel import Panel
from rich.syntax import Syntax
from rich.table import Table

def print_result_rich(result: dict, show_reasoning: bool = False):
    """ä½¿ç”¨ rich ç¾åŒ–è¾“å‡º"""
    console = Console()

    if result['success']:
        # å¢å¼ºåçš„æç¤ºè¯
        console.print(Panel(
            result['enhanced'],
            title="âœ… å¢å¼ºåçš„æç¤ºè¯",
            border_style="green"
        ))

        # æ€è€ƒè¿‡ç¨‹ï¼ˆå¯é€‰ï¼‰
        if show_reasoning and result['reasoning']:
            console.print(Panel(
                result['reasoning'],
                title="ğŸ§  æ¨¡å‹çš„æ€è€ƒè¿‡ç¨‹",
                border_style="blue"
            ))

        # ç»Ÿè®¡ä¿¡æ¯
        table = Table(title="ğŸ“Š ç»Ÿè®¡ä¿¡æ¯")
        table.add_column("æŒ‡æ ‡", style="cyan")
        table.add_column("å€¼", style="magenta")

        stats = result['stats']
        table.add_row("åŸå§‹é•¿åº¦", f"{stats['original_length']} å­—ç¬¦")
        table.add_row("å¢å¼ºåé•¿åº¦", f"{stats['enhanced_length']} å­—ç¬¦")
        table.add_row("æ‰©å±•æ¯”ä¾‹", f"{stats['expansion_ratio']}x")
        table.add_row("å¤„ç†æ—¶é—´", f"{result['processing_time']:.2f} ç§’")

        console.print(table)
    else:
        console.print(Panel(
            f"âŒ å¢å¼ºå¤±è´¥\n\né”™è¯¯ä¿¡æ¯: {result['error']}",
            title="é”™è¯¯",
            border_style="red"
        ))
```

---

### **6. é”™è¯¯å¤„ç†å®ç°**

```python
import sys
from rich.console import Console

def handle_error(error: Exception, verbose: bool = False):
    """ç»Ÿä¸€é”™è¯¯å¤„ç†"""
    console = Console(stderr=True)

    if isinstance(error, KeyboardInterrupt):
        console.print("\nâš ï¸  æ“ä½œå·²å–æ¶ˆ", style="yellow")
        sys.exit(130)

    elif isinstance(error, ValueError):
        console.print(f"âŒ å‚æ•°é”™è¯¯: {error}", style="red")
        sys.exit(1)

    elif isinstance(error, TimeoutError):
        console.print(f"âŒ API è°ƒç”¨è¶…æ—¶: {error}", style="red")
        sys.exit(1)

    else:
        console.print(f"âŒ æœªçŸ¥é”™è¯¯: {error}", style="red")
        if verbose:
            import traceback
            console.print(traceback.format_exc())
        sys.exit(1)
```

---

## ğŸš€ **å¿«é€Ÿå¼€å§‹ç¤ºä¾‹**

### **å®‰è£…**

```bash
# å…‹éš†ä»“åº“
git clone <repo-url>
cd Prompt-Enhancement

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
pip install rich click

# å¼€å‘æ¨¡å¼å®‰è£… CLI å·¥å…·
pip install -e .

# éªŒè¯å®‰è£…
prompt-enhance --version
```

### **ä½¿ç”¨ç¤ºä¾‹**

```bash
# åŸºç¡€ä½¿ç”¨
prompt-enhance "ä¿®å¤ç™»å½• bug"

# ä»æ–‡ä»¶è¯»å–
prompt-enhance --file input.txt

# ä¿å­˜åˆ°æ–‡ä»¶
prompt-enhance "ä¿®å¤ç™»å½• bug" --output enhanced.txt

# JSON è¾“å‡º
prompt-enhance "ä¿®å¤ç™»å½• bug" --json

# äº¤äº’å¼æ¨¡å¼
prompt-enhance --interactive

# æ˜¾ç¤ºæ€è€ƒè¿‡ç¨‹
prompt-enhance "ä¿®å¤ç™»å½• bug" --show-reasoning

# è¯¦ç»†è¾“å‡º
prompt-enhance "ä¿®å¤ç™»å½• bug" --verbose

# ä¸ Claude Code é›†æˆ
prompt-enhance "ä¿®å¤ç™»å½• bug" | claude-code
```

---

## ğŸ“ **ä¸‹ä¸€æ­¥è¡ŒåŠ¨**

### **ç«‹å³å¼€å§‹ Day 4 ä»»åŠ¡**

1. **ç ”ç©¶ Claude Code CLI**ï¼ˆå¦‚æœå¯è®¿é—®ï¼‰
   - æŸ¥çœ‹ Claude Code æ–‡æ¡£
   - æµ‹è¯• Claude Code å‘½ä»¤
   - äº†è§£é›†æˆæ–¹å¼

2. **å¦‚æœæ— æ³•è®¿é—® Claude Code**
   - åˆ›å»ºç‹¬ç«‹ CLI å·¥å…·
   - è®¾è®¡é€šç”¨é›†æˆæ¥å£
   - æä¾›ç®¡é“/æ–‡ä»¶é›†æˆæ–¹å¼

3. **å¼€å§‹å®ç°**
   - åˆ›å»º `prompt_enhance_cli.py`
   - å®ç°åŸºç¡€å‘½ä»¤è¡Œå‚æ•°è§£æ
   - é›†æˆ `AsyncPromptEnhancer`

---

**è§„åˆ’å®Œæˆæ—¶é—´**: 2025-12-09
**è§„åˆ’ç‰ˆæœ¬**: v1.1
**è§„åˆ’çŠ¶æ€**: âœ… **å·²å®Œæˆ**
**ä¸‹ä¸€æ­¥**: å¼€å§‹ Day 4 - è®¾è®¡ Claude Code CLI é›†æˆæ–¹æ¡ˆ

